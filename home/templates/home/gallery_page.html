{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block content %}
<div style="background-color: #0A192F; color: white; min-height: 100vh; padding: 60px 20px; overflow-x: hidden;">
    
    <div style="text-align: center; margin-bottom: 60px;">
        <h1 style="font-size: 3.5rem; color: #FFD700; text-shadow: 2px 2px 10px rgba(0,0,0,0.5);">{{ page.title }}</h1>
        <div style="max-width: 700px; margin: 0 auto; font-size: 1.3rem; opacity: 0.8; font-style: italic;">
            {{ page.intro|richtext }}
        </div>
    </div>

    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; padding: 20px;">
        {% for block in page.gallery_images %}
            {% cycle '#ffffff' '#fdfdfd' '#f8f9fa' '#fffaf0' as bg_color silent %}
            {% cycle '#FF6B6B' '#4ECDC4' '#A29BFE' '#FFD700' as border_color silent %}
            
            <div class="photo-item" 
                 style="background-color: {{ bg_color }}; 
                        padding: 12px 12px 35px 12px; 
                        box-shadow: 5px 10px 30px rgba(0,0,0,0.4); 
                        border: 4px solid {{ border_color }};
                        transform: rotate({% cycle '-3' '4' '-2' '3' %}deg);
                        transition: all 0.4s ease;
                        max-width: 300px;
                        margin: 10px;">
                
                {% image block.value.image width-400 as img %}
                <img src="{{ img.url }}" alt="Wassim" style="width: 100%; height: auto; display: block;">

                <p style="color: #333; 
                          font-family: 'Permanent Marker', cursive, sans-serif; 
                          margin-top: 15px; 
                          text-align: center; 
                          font-size: 1.1rem;
                          line-height: 1.2;">
                    {% if block.value.caption %}
                        {{ block.value.caption }}
                    {% else %}
                        Wassim - Photo #{{ forloop.counter }}
                    {% endif %}
                </p>
            </div>
        {% endfor %}
    </div>
</div>

<style>
    .photo-item:hover {
        transform: scale(1.1) rotate(0deg) !important;
        z-index: 100;
        box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        cursor: pointer;
    }
    @import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap');
</style>
{% endblock %}